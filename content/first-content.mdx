---
title: Coddee 인프라 설계 과정
publishedAt: 2022-12-19
description: 개발자 채팅방 Coddee의 인프라 설계 과정을 궁금해 하실 분들을 위해 이 글을 남겨봅니다.
thumbnailUrl: "naver.com"
tags: [Coddee, Supabase]
---

# 개발자 채팅방 Coddee의 인프라 설계 과정을 궁금해 하실 분들을 위해 이 글을 남겨봅니다.

Coddee의 경우도 그렇지만, 저는 사이드 프로젝트를 할 때 새로 매력적인 제품이 등장하지 않는 이상 항상 사용하는 기술과 플랫폼들이 있습니다. Frontend framework는 **Next.js**, CSS framework는 **TailwindCSS**, 클라우드 컴퓨팅 관련 플랫폼은 **Vercel**, 그리고 백엔드는 직접 구축하지 않고 오늘 다룰 주제인 **Supabase**를 사용합니다.

## Supabase란

Supabase는 Baas(Baekend as a service) 중 하나로, 구글의 유명한 Firebase에서 영감을 받아 대체제로서 역할을 하고자 시작된 오픈소스 프로젝트입니다.

Firebase와 가장 두드러지는 차이점은 Firebase의 Database는 noSQL을 채택하지만 Supabase는 위의 홈 화면에서도 강조하듯이 Postgre를 전면에 내세운 관계형 데이터베이스를 사용한다는 점입니다.

### 과거의 문제점

<Image
  src="https://velog.velcdn.com/images/ethan_world/post/a1b1a37f-6c42-416e-9cba-95263b2ac471/image.png"
  width={200}
  height={100}
/>

## 메인페이지

![피그마 프로토타입](https://velog.velcdn.com/images/ethan_world/post/81eaf75a-6684-4554-93e9-308fdfbc6f8f/image.png)

위의 프로토타입을 바탕으로 필요 컴포넌트를 나눴다. 작업한 순서로 정리해볼까 한다.

### 🖥 ProductList.tsx

메인페이지의 메인 view를 담당하는 주요 컴포넌트이다. 맨 처음 작업을 시작할 때 `json-server` 를 사용하여 더미데이터를 만들었고, 혹시 모를 상황에 (급작스러운 API문서 수정) 대비하기위해 백엔드 개발자분들과 상의하여 받을 응답객체를 정해놓고 작업했다.

> **아쉬운 점**

1. 제품에 대한 데이터를 한 번에 다 받았다. API호출을 쿼리로 주고 받으면 데이터 세이빙과, 로딩시간을 개선할 수 있을 거 같다. 지금 시점에서는 제품 데이터가 많지 않아서 괜찮다.
2. 제품을 더 불러오는 기능으로 `더 보기` 버튼을 만들었다. 처음엔 페이지네이션으로 프론트에서 offset등을 계산하여 좌우로 이동하게끔 구현했지만, 전직 디자이너셨던 팀원분께 의견을 여쭤보았는데 모바일에서의 view를 염두하고 계셔서 `더 보기` 버튼으로 구현을 헀다.

> **개선한 점**

1. 프로젝트 발표가 끝나고, 제일 먼저 수정을 했던 건 `useMemo, useCallback` 을 활용한 성능 최적화였다.
   ![](https://velog.velcdn.com/images/ethan_world/post/cdc0a473-6abc-4f93-8942-09beb4c487a0/image.png)
   처음 써보는 리엑트 훅이라 공부먼저 진행했고 `단테`님의 블로그가 도움이 많이 됐다. 값이나 함수가 변하지 않는다면, 그것들의 불필요한 렌더링을 막기 위한 메모이제이션 기법!
